# JSP / Servlet의 MVC 패턴

## MVC 패턴

- M(Model) : 로직(연산) 수행(데이터 작업 포함)을 담당
- V(View) : 사용자 화면 출력을 담당
- C(Controller) : 중앙에서 Model 과 View의 제어를 담당

![MVC](https://user-images.githubusercontent.com/60080744/112720588-a0018600-8f42-11eb-812e-c96a43b5a997.jpg)

### Controller

모든 요청은 컨트롤러로 모인다. 사용자가 URL/IP를 입력해서 접근하건 View에서 다른 View를 호출하건 Model에서 다른 Model을 호출하건 모두 컨트롤러를 거치게 된다.

톰캣 서버에서 구동되는 가장 핵심적인 역할이기 때문에 Servlet(HttpServlet) 클래스를 상속받아 서블릿이 됩니다. 서블릿은 톰캣 서버와 정보를 주고 받을 수 있는 기능이 있고, 특히 사용자의 요청 내용과 커넥션 정보 등을 내장 객체 형태로 가지고 있어 이를 적절히 처리할 수 있는 기능을 가지고 있다. 이 정보를 모델에게 넘겨서 로직을 수행하게 하고 다시 결과를 받아 View에게 전달해 최종화면을 사용자에게 넘겨준다. 또는 바로 View를 호출해 사용자에게 화면을 보여줄 수도 있다.



### Model

실제 로직을 수행하는 역할을 하는 자바 클래스다. Command는 로직을 수행하는 기능을 가진 클래스를 의미하고 DAO/DTO는 DB와 연동되어 데이터 작업을 담당하는 기능의 클래스다. 둘을 나눠둔 것도 역시 기능별로 모듈화를 하는 객체지향적 방식을 지향하기 때문이다. DAO는 데이터 작업 로직을 가진 클래스이고 DTO는 데이터를 저장해 운반하기 위한 클래스다.



### View

최종 작업 결과물을 가지고 적절한 화면을 구성해서 사용자에게 전달하는 기능을 말한다.  대부분 JSP를 사용하여 View를 구성한다. 톰캣서버는 Controller가 최종적으로 실행시킨 JSP 파일을 Servlet로 변환해서 컴파일한 뒤 실행한다. 사용자 HTML 형태의 코드를 받는다. 브라우저는 이 코드를 받아 화면을 구성하여 보여준다.





